package hgtest.storage.bje.DefaultIndexImpl;


import org.hypergraphdb.storage.bje.DefaultIndexImpl;
import org.powermock.api.easymock.PowerMock;
import org.junit.Test;

import static org.easymock.EasyMock.replay;
import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;

/**
 * @author Yuriy Sechko
 */
public class DefaultIndexImpl_isOpenTest extends DefaultIndexImplTestBasis
{
	@Test
	public void indexIsOpened() throws Exception
	{
		startupIndex();

		final boolean isOpen = index.isOpen();

		assertTrue(isOpen);
        index.close();
	}

	@Test
	public void indexIsNotOpened() throws Exception
	{
        replay(mockedStorage);

		final DefaultIndexImpl index = new DefaultIndexImpl(INDEX_NAME,
                mockedStorage, transactionManager, keyConverter, valueConverter,
				comparator, null);

		final boolean isOpen = index.isOpen();

		assertFalse(isOpen);
	}
}
